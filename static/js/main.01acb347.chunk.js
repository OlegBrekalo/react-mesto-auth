(this["webpackJsonpreact-mesto-auth"]=this["webpackJsonpreact-mesto-auth"]||[]).push([[0],{23:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),l=n(24),c=n.n(l),i=n(26),u=n(9),s=n(1),m=n(2),p=o.a.createContext(),f=n.p+"static/media/mesto-logo.c2821b38.svg";function _(e){var t=e.loggedIn,n=e.onSignOut,a=o.a.useContext(p);return o.a.createElement("header",{className:"header content-section"},o.a.createElement(r.b,{to:"/"},o.a.createElement("img",{src:f,alt:"\u041c\u0435\u0441\u0442\u043e-\u041b\u043e\u0433\u043e\u0442\u0438\u043f",className:"header__logo"})),t?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"header__login-email"},a.email),o.a.createElement("button",{className:"header__logout-button",type:"button","aria-label":"\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438",onClick:n},"\u0412\u044b\u0439\u0442\u0438")):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"header__login-email"}),o.a.createElement(r.b,{className:"header__link-to-sing-up",to:"/sign-up"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}_.defaultProps={loggedIn:!1};var d=_,b=n(16);function h(e){var t=e.component,n=e.loggedIn,a=Object(b.a)(e,["component","loggedIn"]);return o.a.createElement(m.b,null,(function(){return n?o.a.createElement(t,a):o.a.createElement(m.a,{to:"/sign-in"})}))}h.defaultProps={loggedIn:!1,exact:!1};var g=h,E="https://images.unsplash.com/photo-1458419948946-19fb2cc296af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80";function v(e){var t=this,n=e.id,a=e.name,r=e.link,l=e.likes,c=e.owner,i=e.onClick,u=e.onLike,s=e.onDelete,m=o.a.useContext(p),f=!(0===l.length||!l.find((function(e){return e._id===m.id}))),_=m.id===c._id?"element__remove-icon  element__remove-icon_show":"element__remove-icon",d=f?"element__like-icon element__like-icon_checked":"element__like-icon";return o.a.createElement("li",{className:"element"},o.a.createElement("button",{type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",className:_,onClick:function(){s(n)}}),o.a.createElement("img",{role:"presentation",src:r,alt:"#",className:"element__image",onClick:function(){i.call(t,r,a)},onError:function(e){e.target.src=E}}),o.a.createElement("div",{className:"element__footer"},o.a.createElement("h2",{className:"element__title",title:a},a),o.a.createElement("div",{className:"element__like-block"},o.a.createElement("button",{type:"button","aria-label":"\u041b\u0430\u0439\u043a \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435",className:d,onClick:function(){u(f,n)}}),o.a.createElement("p",{className:"element__like-couter"},l?l.length:0))))}v.defaultProps={name:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",link:E,likes:[]};var O=v;function k(e){var t=e.handlersProfile,n=e.cards,a=e.handlersCard,r=o.a.useContext(p);return o.a.createElement("main",{className:"main"},o.a.createElement("section",{className:"profile content-section"},o.a.createElement("div",{className:"profile__avatar-wrapper"},o.a.createElement("img",{src:r.avatar,role:"presentation",alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar",onClick:function(){return t.setOpenEditAvatar(!0)}})),o.a.createElement("div",{className:"profile__profile-info"},o.a.createElement("h2",{className:"profile__name"},r.name),o.a.createElement("button",{type:"button","aria-label":"1",className:"profile__edit-button",onClick:function(){return t.setOpenEditProfile(!0)}}),o.a.createElement("p",{className:"profile__job"},r.about)),o.a.createElement("button",{type:"button","aria-label":"1",className:"profile__add-button",onClick:function(){return t.setOpenAddPlace(!0)}})),o.a.createElement("section",{className:"elements content-section"},o.a.createElement("ul",{className:"elements__img-grid"},n.map((function(e){var t=e._id,n=Object(b.a)(e,["_id"]);return o.a.createElement(O,{key:t,id:t,name:n.name,link:n.link,likes:n.likes,owner:n.owner,onClick:a.click,onLike:a.like,onDelete:a.delete})})))))}k.defaultProps={cards:null};var y=k;var N=function(e){var t=e.inputs,n=e.onSubmit;return o.a.createElement("main",{className:"main main_type_login"},o.a.createElement("section",null,o.a.createElement("form",{className:"form",onSubmit:n},t)))};var C=function(e){var t=e.onSubmit,n=o.a.useState(""),a=Object(s.a)(n,2),l=a[0],c=a[1],i=o.a.useState(""),u=Object(s.a)(i,2),p=u[0],f=u[1],_=Object(m.g)();return o.a.createElement(N,{onSubmit:function(e){e.preventDefault();t(l,p,(function(){c(""),f(""),_.push("/sign-in")}))},inputs:o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"form__title form__title_type_login"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("label",{className:"form__label form__label_type_login",htmlFor:"register-email-input"},o.a.createElement("input",{id:"register-email-input",className:"form__input-text form__input-text_type_login",type:"email",placeholder:"Email",required:!0,minLength:"2",maxLength:"30",value:l,onChange:function(e){c(e.target.value)}})),o.a.createElement("label",{className:"form__label form__label_type_login",htmlFor:"register-password-input"},o.a.createElement("input",{id:"register-password-input",className:"form__input-text form__input-text_type_login",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"30",autoComplete:"false",value:p,onChange:function(e){f(e.target.value)}})),o.a.createElement("button",{className:"form__submit-button login__submit_type_login",type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement(r.b,{className:"form__sign-in-link",to:"/sign-in"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"))})};var j=function(e){var t=e.onSubmit,n=o.a.useState(""),a=Object(s.a)(n,2),r=a[0],l=a[1],c=o.a.useState(""),i=Object(s.a)(c,2),u=i[0],m=i[1];return o.a.createElement(N,{onSubmit:function(e){e.preventDefault();t(r,u,(function(){l(""),m("")}))},inputs:o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"form__title form__title_type_login"},"\u0412\u0445\u043e\u0434"),o.a.createElement("label",{className:"form__label form__label_type_login",htmlFor:"login-email-input"},o.a.createElement("input",{id:"login-email-input",className:"form__input-text form__input-text_type_login",type:"text",placeholder:"Email",required:!0,minLength:"2",maxLength:"30",value:r,onChange:function(e){l(e.target.value)}})),o.a.createElement("label",{className:"form__label form__label_type_login",htmlFor:"login-password-input"},o.a.createElement("input",{id:"login-password-input",className:"form__input-text form__input-text_type_login",type:"password",autoComplete:"false",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:"2",maxLength:"30",value:u,onChange:function(e){m(e.target.value)}})),o.a.createElement("button",{className:"form__submit-button login__submit_type_login",type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))})};var S=function(){return o.a.createElement("footer",{className:"footer content-section"},o.a.createElement("p",{className:"footer__copyright"},"\xa9 2020 Mesto Russia"))};function x(e){var t=e.isOpen,n=e.title,r=e.name,l=e.inputs,c=e.buttonText,i=e.onClose,u=e.onSubmit,s=Object(a.useRef)(null),m="popup popup-".concat(r);t&&(m+=" popup_opened");return o.a.createElement("div",{className:m,role:"presentation",onClick:function(e){e.currentTarget===e.target&&i()}},o.a.createElement("div",{className:"popup__container popup__container_type_form"},o.a.createElement("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e",className:"popup__close-icon",onClick:i}),o.a.createElement("form",{className:"form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),u(s)}},o.a.createElement("p",{className:"form__title"},n),l,o.a.createElement("button",{type:"submit",className:"form__submit-button",ref:s},c))))}x.defaultProps={isOpen:!1,inputs:null,buttonText:""};var w=x;function P(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit,l=o.a.useContext(p),c=o.a.useState(""),i=Object(s.a)(c,2),u=i[0],m=i[1],f=o.a.useState(""),_=Object(s.a)(f,2),d=_[0],b=_[1];return Object(a.useEffect)((function(){m(l.name),b(l.about)}),[l]),o.a.createElement(w,{isOpen:t,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClose:n,onSubmit:function(e){r(u,d,e)},inputs:o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"edit-form_name",className:"form__label"},o.a.createElement("input",{id:"edit-form_name",name:"edit-form_name",type:"text",required:!0,minLength:2,maxLength:40,className:"form__input-text edit-popup__input-text_type_name",value:u,onChange:function(e){return m(e.target.value)}}),o.a.createElement("span",{id:"edit-form_name-error",className:"form__input-error"})),o.a.createElement("label",{htmlFor:"edit-form_about",className:"form__form-label"},o.a.createElement("input",{id:"edit-form_about",name:"edit-form_about",type:"text",required:!0,minLength:2,maxLength:200,className:"form__input-text edit-popup__input-text_type_job",value:d,onChange:function(e){return b(e.target.value)}}),o.a.createElement("span",{id:"edit-form_about-error",className:"form__input-error"})))})}P.defaultProps={isOpen:!1};var T=P;function L(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit,l=Object(a.useRef)(null);return o.a.createElement(w,{isOpen:t,title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClose:n,onSubmit:function(e){r(l.current.value,e,(function(){l.current.value=""}))},inputs:o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"avatar-form_src",className:"form__label"},o.a.createElement("input",{id:"avatar-form_src",name:"avatar-form_src",type:"url",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",className:"form__input-text avatar-form__input-text_type_src",ref:l}),o.a.createElement("span",{id:"avatar-form_src-error",className:"form__input-error"})))})}L.defaultProps={isOpen:!1};var I=L;function F(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit,r=o.a.useState(""),l=Object(s.a)(r,2),c=l[0],i=l[1],u=o.a.useState(""),m=Object(s.a)(u,2),p=m[0],f=m[1];return o.a.createElement(w,{isOpen:t,title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add",buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",onClose:n,onSubmit:function(e){a(c,p,e,(function(){i(""),f("")}))},inputs:o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{htmlFor:"add-form_name",className:"form__label"},o.a.createElement("input",{id:"add-form_name",name:"add-form_name",type:"text",required:!0,minLength:1,maxLength:30,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form__input-text add-form__input-text_type_name",value:c,onChange:function(e){return i(e.target.value)}}),o.a.createElement("span",{id:"add-form_name-error",className:"form__input-error"})),o.a.createElement("label",{htmlFor:"add-form_src",className:"form__form-label"},o.a.createElement("input",{id:"add-form_src",name:"add-form_src",type:"url",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"form__input-text add-form__input-text_type_src",value:p,onChange:function(e){return f(e.target.value)}}),o.a.createElement("span",{id:"add-form_src-error",className:"form__input-error"})))})}F.defaultProps={isOpen:!1};var U=F;function A(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit;return o.a.createElement(w,{isOpen:t,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete-card",buttonText:"\u0414\u0430",onClose:n,onSubmit:function(e){a(e)}})}A.defaultProps={isOpen:!1};var q=A;function z(e){var t,n=e.isOpen,a=e.title,r=e.type,l=e.onClose,c="popup";switch(n&&(c+=" popup_opened"),r){case"ok":t="popup__info-icon popup__info-icon_type_ok";break;case"error":t="popup__info-icon popup__info-icon_type_error";break;default:t="popup__info-icon"}return o.a.createElement("div",{className:c,role:"presentation",onClick:function(e){e.currentTarget===e.target&&l()}},o.a.createElement("div",{className:"popup__container popup__container_type_inform"},o.a.createElement("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e",className:"popup__close-icon",onClick:l}),o.a.createElement("div",{className:t}),o.a.createElement("p",{className:"popup__informSubtitle"},a)))}z.defaultProps={isOpen:!1,title:"",type:""};var D=z;function J(e){var t=e.isOpen,n=e.src,a=e.subtitle,r=e.onClose,l="popup";t&&(l+=" popup_opened");return o.a.createElement("div",{className:l,role:"presentation",onClick:function(e){e.currentTarget===e.target&&r()}},o.a.createElement("div",{className:"popup__container"},o.a.createElement("button",{type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439",className:"popup__close-icon",onClick:r}),o.a.createElement("img",{src:n,alt:"#",className:"popup__image"}),o.a.createElement("p",{className:"popup__img-subtitle"},a)))}J.defaultProps={isOpen:!1,src:E,subtitle:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e"};var R=J,M=(n(23),n(14)),B=n(15),G=n(6),H=n.n(G);function Q(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}var W=new(function(){function e(t,n){Object(M.a)(this,e),this._url=t,this._token=n}return Object(B.a)(e,[{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{authorization:this._token}}).then((function(e){return Q(e)}))}},{key:"updateUserInfo",value:function(e,t){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:H()(e),about:H()(t)})}).then((function(e){return Q(e)}))}},{key:"updateUserAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:H()(e)})}).then((function(e){return Q(e)}))}},{key:"getCards",value:function(){return fetch("".concat(this._url,"cards"),{method:"GET",headers:{authorization:this._token}}).then((function(e){return Q(e)}))}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._url,"cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:H()(e),link:H()(t)})}).then((function(e){return Q(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return Q(e)}))}},{key:"putLike",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token}}).then((function(e){return Q(e)}))}},{key:"removeLike",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return Q(e)}))}}]),e}())("https://mesto.nomoreparties.co/v1/cohort-15/","00e3d586-abb9-483a-af25-8c5b37844ed8"),K=new(function(){function e(t){Object(M.a)(this,e),this._url=t}return Object(B.a)(e,[{key:"signUp",value:function(e,t){return fetch("".concat(this._url,"signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:H()(e),password:H()(t)})}).then((function(e){return Q(e)}))}},{key:"signIn",value:function(e,t){return fetch("".concat(this._url,"signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:H()(e),password:H()(t)})}).then((function(e){return Q(e)}))}},{key:"validateToken",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return Q(e)}))}}]),e}())("https://auth.nomoreparties.co/");var V=function(){var e=Object(m.g)(),t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],l=n[1],c=Object(a.useState)(!1),f=Object(s.a)(c,2),_=f[0],b=f[1],h=Object(a.useState)(!1),E=Object(s.a)(h,2),v=E[0],O=E[1],k=Object(a.useState)(!1),N=Object(s.a)(k,2),x=N[0],w=N[1],P=Object(a.useState)(!1),L=Object(s.a)(P,2),F=L[0],A=L[1],z=Object(a.useState)(null),J=Object(s.a)(z,2),M=J[0],B=J[1],G=Object(a.useState)(null),H=Object(s.a)(G,2),Q=H[0],V=H[1],X=Object(a.useState)(null),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(a.useState)([]),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],oe=Object(a.useState)({id:"",name:"",about:"",avatar:"",email:""}),re=Object(s.a)(oe,2),le=re[0],ce=re[1],ie=function(){var e=localStorage.getItem("jwt");return console.log(_),e?K.validateToken(e).then((function(e){ce({id:e.data._id,email:e.data.email}),b(!0)})):Promise.reject()};Object(a.useEffect)((function(){_&&Promise.all([W.getUserInfo(),W.getCards()]).then((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];ae(a),ce(Object(u.a)(Object(u.a)({},le),{},{id:n._id,name:n.name,about:n.about,avatar:n.avatar}))})).catch((function(e){console.log("Error on - Render Main page"),console.log("Error message - ".concat(e))}))}),[_]),Object(a.useEffect)((function(){ie().then((function(){b(!0)})).finally((function(){l(!0)}))}),[]);var ue=function(e){"Escape"===e.key&&se()};Object(a.useEffect)((function(){document.addEventListener("keydown",ue)}),[v,x,F,Q]);var se=function(){O(!1),w(!1),A(!1),B(null),$(null),V(null),document.removeEventListener("keydown",ue)},me=function(e,t){ae(ne.map((function(n){return n._id===e?Object(u.a)(Object(u.a)({},n),{},{likes:t.likes}):n})))},pe=function(){$({title:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!",type:"ok"})},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.";$({title:e,type:"error"})};return o.a.createElement("div",{className:"content"},o.a.createElement(p.Provider,{value:le},o.a.createElement(d,{loggedIn:_,onSignOut:function(){localStorage.removeItem("jwt"),b(!1),e.push("/sign-in")}}),r&&o.a.createElement(m.d,null,o.a.createElement(g,{loggedIn:_,exact:!0,path:"/",component:y,cards:ne,handlersProfile:{setOpenEditProfile:O,setOpenEditAvatar:A,setOpenAddPlace:w},handlersCard:{click:function(e,t){V({src:e,subtitle:t})},like:function(e,t){e?W.removeLike(t).then((function(e){me(t,e)})).catch((function(e){console.log("Error on - removeLike"),console.log("Error message - ".concat(e))})):W.putLike(t).then((function(e){me(t,e)})).catch((function(e){console.log("Error on - putLike"),console.log("Error message - ".concat(e))}))},delete:function(e){B(e)}}}),o.a.createElement(m.b,{path:"/sign-up"},o.a.createElement(C,{onSubmit:function(e,t,n){K.signUp(e,t).then((function(){pe(),n()})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 400"===e.message?fe("\u0422\u0430\u043a\u043e\u0439 email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):fe()}))},showOk:pe,showError:fe})),o.a.createElement(m.b,{path:"/sign-in"},o.a.createElement(j,{onSubmit:function(t,n,a){K.signIn(t,n).then((function(e){return localStorage.setItem("jwt",e.token),a(),ie()})).then((function(){e.push("./")})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 401"===e.message?fe("\u0412\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"):fe()}))},showError:fe}))),o.a.createElement(S,null),o.a.createElement(T,{isOpen:v,onClose:se,onSubmit:function(e,t,n){var a=n.current.textContent,o=n;o.current.textContent="\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u044e...",W.updateUserInfo(e,t).then((function(e){ce(Object(u.a)(Object(u.a)({},le),{},{name:e.name,about:e.about})),o.current.textContent=a,se()})).catch((function(e){console.log("Error on - handleUpdateUserProfile"),console.log("Error message - ".concat(e))}))}}),o.a.createElement(I,{isOpen:F,onClose:se,onSubmit:function(e,t,n){var a=t.current.textContent,o=t;o.current.textContent="\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u044e...",W.updateUserAvatar(e).then((function(e){ce(Object(u.a)(Object(u.a)({},le),{},{avatar:e.avatar})),o.current.textContent=a,n(),se()})).catch((function(e){console.log("Error on - handleUpdateUserAvatar"),console.log("Error message - ".concat(e))}))}}),o.a.createElement(U,{isOpen:x,onClose:se,onSubmit:function(e,t,n,a){var o=n.current.textContent,r=n;r.current.textContent="\u0421\u043e\u0437\u0434\u0430\u044e...",W.addNewCard(e,t).then((function(e){ae([e].concat(Object(i.a)(ne))),r.current.textContent=o,a(),se()})).catch((function(e){console.log("Error on - handleAddPlaceSubmit"),console.log("Error message - ".concat(e))}))}}),o.a.createElement(q,{isOpen:!!M,onClose:se,onSubmit:function(e){var t=e.current.textContent,n=e;n.current.textContent="\u0423\u0434\u0430\u043b\u044f\u044e...",W.deleteCard(M).then((function(){ae(ne.filter((function(e){return e._id!==M}))),n.current.textContent=t,se()})).catch((function(e){console.log("Error on - handleRemovePlaceSubmit"),console.log("Error message - ".concat(e))}))}}),o.a.createElement(R,{isOpen:!!Q,src:Q&&Q.src,subtitle:Q&&Q.subtitle,onClose:se}),o.a.createElement(D,{isOpen:!!Z,title:Z&&Z.title,type:Z&&Z.type,onClose:se})))};c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(r.a,{basename:"/",hashType:"noslash"},o.a.createElement(V,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.01acb347.chunk.js.map